# An improved environment
We need a new kind of environment, otherwise it would be very hard to write the code/handle the environments...

The goal of this project is to design and implement a suitable framework that can help me implement the idea easily.

The idea, is to separate the type of the observation, the observation, and the simulator.

- We have observation_space and action_space just like gym, which describe the type of the image.
- We should add the type OrderedDict/Graph/Node/List/Language(?) into the observation space. We should be able to serialize the type into numpy/pytorch array, and construct the type from the serialized type.
- For each observation type, we define the add/del/norm as metric space, and low, high as the range for continuous variable, set.
- Action is another kind of observation.
- We support the cost/goal/description/program  over the 
- For those information that would not change during the environment, we would store it into a variable called scene. If scene is not None, it will be a variable that would never change across one episode. Use reset to return that variable is not good. Use function global to get the env's global info. 

A framebuffer dataset, contains multiple episode information.

A very hard problem is to decide the output of observation, we think it should be the class before serialization, I mean, it should be a class. 

# space and observation
A space should support the following operator. Each space is a definition of certain type.

Type, could be either a numpy array/torch.Tensor, or a class that supports the following operators:
- from_numpy/from_torch: deserialize the sequence from pytorch/numpy array
- numpy/torch: translate to tensor
- One can transfer it to numpy/pytorch with \_\_array\_\_
- is_batch, A variable to decide if this is a batched one
- if it is_batched, we can use \_\_index\_\_ to extract some variable.

As for a space:
- from_numpy: transforms a numpy into the tensor (is_batched...)
- ~~to_jsonable~~
- ~~from_jsonable~~
- shape: hyper parameters for array/
- dtype: flaot32 or int64
- type: np.ndarray
- sample: inherited from gym, return the corresponding type, default, it will be a numpy-based tensor/List/Dict
- seed: inherited from gym
- contains: inherited from gym, which will be called by \_\_contains\_\_


## TODOs
应该处于也将长期处于复现工作中。

chutong估计搞不定POLO，之后得花一周的时间去做做。

一周之内出mujoco上的实验？
这三天主要做Model方面，GNN的baseline，方便跟jinyu zhao对接。

两周之内应该可以出个基本能看的结果？
Language as an Abstraction for Hierarchical Deep Reinforcement Learning/和Program Guided Agent这个，交给yingren去踩坑。

Yiran，推箱子不知道如何了，似乎可以先用这个试试？
